//###########################################################
//               Checkboxes Styles
//###########################################################

.actor {
  input[type='checkbox'] {
    margin: 6px 0 0 0;
    &::before {
      color: var(--color-button-check-off);
    }
    &:checked::before {
      content: none;
    }
    &:checked::after {
      color: var(--color-button-check-on);
    }
  }

//###########################################################
//               FA and SVG Buttons/Checkboxes Styles
//###########################################################


  /* generic icon button */

  .icon--button,
  .item-control {
    --icon-height: 100%;
    --icon-width: 25px;
    width: var(--icon-size);
    height: var(--icon-size);
    display: inline-flex;
    background: none;
    border: 0;
    padding: 0;
    cursor: pointer;
    color: var(--color-button-icon);
    font-size: var(--font-size-13);
    min-height: 0;
    align-items: center;
  }

  .icon--button:hover,
  .item-control:hover {
    color: var(--color-button-icon-hover);
    text-shadow: none;
  }

  h2 .icon--button,
  h2 .item-control {
    color: var(--color-button-header-icon);
  }

  h2 .icon--button:hover,
  h2 .item-control:hover {
    color: var(--color-button-header-icon-hover);
    text-shadow: none;
  }


  .icon--button.icon {
    line-height: 0;
    display: inline-block;
    padding: 0;
    border: 0;
    vertical-align: middle;
    background: var(--icon-fill, currentColor);

    -webkit-mask-image: var(--icon-mask);
            mask-image: var(--icon-mask);
    -webkit-mask-position: center;
            mask-position: center;
    -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
    -webkit-mask-size: 100% 100%;
            mask-size: 100% 100%;
            mask-mode: alpha;
  }

  .iconCell(@size: 25px) {
    --icon-cell: @size;
    position: relative;
    width: var(--icon-cell);
    height: var(--icon-cell);
    display: grid;
    place-items: center;
    line-height: 0;
  }

  .baseArt() {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    border: 0;
    z-index: 1;
    transition: opacity 120ms linear;
  }

  .overlay() {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    pointer-events: none;
    transition: opacity 120ms linear;
    z-index: 2;
  }

  .icon--button.icon {
    &.icon--d20 {
      --icon-mask: url("/icons/svg/d20-black.svg");
      mask-mode: alpha;
    }
    &.icon--blood {
      --icon-mask: url("/icons/svg/blood.svg");
      mask-mode: alpha;
      color: var(--color-meter-4);
      &:hover,
      &:focus-visible {
        color: var(--color-text-lt);     
      }
    }
  }

  /* ======================= Abilities ======================= */
  .ability-card__grid--container, 
  .power-card__grid--container {
    .icons__dice {
      .iconCell(25px);

      .ability-icon,
      .item__image--visible {
        .baseArt();
      }

      .icon--overlay {
        .overlay();
      }
    }

    &:hover .icons__dice.has-overlay .icon--overlay,
    .icons__dice.has-overlay:hover .icon--overlay {
      opacity: 1;
      pointer-events: auto;
    }

    &:hover .icons__dice.has-overlay .ability-icon,
    .icons__dice.has-overlay:hover .ability-icon,
    &:hover .icons__dice.has-overlay .power-icon,
    .icons__dice.has-overlay:hover .power-icon,
    &:hover .icons__dice.has-overlay .item__image--visible,
    .icons__dice.has-overlay:hover .item__image--visible {
      opacity: 0;
    }
  }

  /* ======================= Equipment ======================= */
  .equipment-card__grid--container {
    .icons__dice,
    .icons__equipment {
      .iconCell(25px);
    }

    .icons__dice {
      .equipment-icon,
      .item__image--visible {
        .baseArt();
        cursor: pointer;
        min-height: 0;
      }

      .icon--overlay {
        .overlay();
      }
    }

    &:hover .icons__dice:has(.icon--overlay) .icon--overlay,
    .icons__dice:has(.icon--overlay):hover .icon--overlay {
      opacity: 1;
      pointer-events: auto;
    }

    &:hover .icons__dice:has(.icon--overlay) .equipment-icon,
    .icons__dice:has(.icon--overlay):hover .equipment-icon,
    &:hover .icons__dice:has(.icon--overlay) .item__image--visible,
    .icons__dice:has(.icon--overlay):hover .item__image--visible {
      opacity: 0;
    }

    .icon--button.icon {
      --icon-size: 25px;
    }

    .equipment-card__grid--item[data-action="changeItemStatus"] {
      display: flex;
      align-items: center;
      justify-content: center;

      .item__status {
        display: inline-block;
        line-height: 1;
        margin: 0;
      }
    }
  }

  .attribute-card__grid--container {
    .icon--button.icon {
      --icon-size: 20px;
    }
  }
}

